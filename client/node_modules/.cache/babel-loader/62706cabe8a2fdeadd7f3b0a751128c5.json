{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactGithub\\\\pern-jwt-demo\\\\client\\\\src\\\\components\\\\Dashboard.js\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\n\nconst Dashboard = ({\n  setAuth\n}) => {\n  const [name, setName] = useState(\"\");\n\n  async function getName() {\n    try {\n      const response = await fetch(\"http://localhost:5000/dashboard\", {\n        method: \"GET\",\n        headers: {\n          token: localStorage.token\n        }\n      });\n      const parseRes = await response.json(); // verileri buradan topluyoruz\n\n      setName(parseRes.user_name);\n    } catch (err) {\n      console.error(err.message);\n    }\n  }\n\n  const logout = e => {\n    e.preventDefault();\n    localStorage.removeItem(\"token\");\n    setAuth(false);\n    toast.success(\"Logged out successfully!\");\n  };\n\n  useEffect(() => {\n    getName();\n  });\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Dashboard - \", name), React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: e => logout(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Logout\"));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/reactGithub/pern-jwt-demo/client/src/components/Dashboard.js"],"names":["React","Fragment","useEffect","useState","toast","Dashboard","setAuth","name","setName","getName","response","fetch","method","headers","token","localStorage","parseRes","json","user_name","err","console","error","message","logout","e","preventDefault","removeItem","success"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,QAApC,QAAmD,OAAnD;AACA,SAASC,KAAT,QAAsB,gBAAtB;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAe;AAE/B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;;AAEA,iBAAeM,OAAf,GAAyB;AACvB,QAAG;AACD,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAD,EAAoC;AAC9DC,QAAAA,MAAM,EAAE,KADsD;AAE9DC,QAAAA,OAAO,EAAE;AAACC,UAAAA,KAAK,EAAEC,YAAY,CAACD;AAArB;AAFqD,OAApC,CAA5B;AAKA,YAAME,QAAQ,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAvB,CANC,CAQD;;AACAT,MAAAA,OAAO,CAACQ,QAAQ,CAACE,SAAV,CAAP;AAED,KAXD,CAWE,OAAOC,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,OAAlB;AACD;AACF;;AAED,QAAMC,MAAM,GAAIC,CAAD,IAAO;AACpBA,IAAAA,CAAC,CAACC,cAAF;AACAV,IAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB;AACApB,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAF,IAAAA,KAAK,CAACuB,OAAN,CAAc,0BAAd;AACD,GALD;;AAOAzB,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,OAAO;AACR,GAFQ,CAAT;AAGA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAiBF,IAAjB,CADF,EAEE;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,OAAO,EAAEiB,CAAC,IAAID,MAAM,CAACC,CAAD,CAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CADF;AAMD,CArCD;;AAuCA,eAAenB,SAAf","sourcesContent":["import React, {Fragment, useEffect, useState} from \"react\";\nimport { toast } from \"react-toastify\";\n\nconst Dashboard = ({setAuth}) => {\n\n  const [name, setName] = useState(\"\")\n\n  async function getName() {\n    try{\n      const response = await fetch(\"http://localhost:5000/dashboard\", {\n        method: \"GET\",\n        headers: {token: localStorage.token}\n      })\n\n      const parseRes = await response.json();\n\n      // verileri buradan topluyoruz\n      setName(parseRes.user_name);\n\n    } catch (err) {\n      console.error(err.message)\n    }\n  }\n\n  const logout = (e) => {\n    e.preventDefault()\n    localStorage.removeItem(\"token\")\n    setAuth(false);\n    toast.success(\"Logged out successfully!\")\n  }\n\n  useEffect(() => {\n    getName();\n  })\n  return (\n    <Fragment>\n      <h1>Dashboard - {name}</h1>\n      <button className=\"btn btn-primary\" onClick={e => logout(e)}>Logout</button>\n    </Fragment>\n  )\n}\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}