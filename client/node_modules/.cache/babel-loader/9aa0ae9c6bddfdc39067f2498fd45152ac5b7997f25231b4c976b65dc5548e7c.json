{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactGithub\\\\portakal\\\\client\\\\src\\\\pages\\\\RestaurantDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\nimport StarRating from \"../components/StarRating\";\nimport Reviews from \"../components/Reviews\";\nimport AddReview from \"../components/AddReview\";\nimport RestaurantDetailHeader from \"../components/RestaurantDetailHeader\";\nimport Cart from \"../components/elements/Cart\";\nimport ProductCard from \"../components/elements/ProductCard\";\nimport Loading from \"../components/Loading\";\nconst RestaurantDetailPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    selectedRestaurant,\n    setSelectedRestaurant\n  } = useContext(RestaurantsContext);\n  const [cart, setCart] = useState([]);\n  const [total, setTotal] = useState(0);\n  // console.log(selectedRestaurant);\n\n  useEffect(() => {\n    console.log(cart);\n  }, [cart]);\n  useEffect(() => {\n    const totalPrice = cart.reduce((pre, cart) => pre + cart.price * basket.price, 0);\n    setTotal(totalPrice);\n  }, [cart]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await RestaurantFinder.get(`/${id}`);\n        console.log(response.data.data);\n        setSelectedRestaurant(response.data.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchData();\n  }, []);\n  if (selectedRestaurant === null) {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    });\n  }\n\n  // const addToCart = (product) => {\n  //   // // alert(product.name)\n  //   // let newCart = cart;\n  //   // // var addedItem = newCart.find(c => c.product.product_id === product.product_id);\n  //   // setCart([...cart,{product:product, quantity: 1}])\n  //   // console.log(\"satın al\")\n  //   setCart([...cart,product])\n  // }\n\n  return (\n    /*#__PURE__*/\n    // <div>\n    //   {selectedRestaurant && (\n    //     <>\n    //       <h1 className=\"text-center display-1\">\n    //         {selectedRestaurant.restaurant.name}\n    //       </h1>\n    //       <div className=\"text-center\">\n    //         <StarRating rating={selectedRestaurant.restaurant.average_rating} />\n    //         <span className=\"text-warning ml-1\">\n    //           {selectedRestaurant.restaurant.count\n    //             ? `(${selectedRestaurant.restaurant.count})`\n    //             : \"(0)\"}\n    //         </span>\n    //       </div>\n    //       <div className=\"mt-3\">\n    //         {/* {console.log(selectedRestaurant.reviews[selectedRestaurant.reviews.length-1, selectedRestaurant.reviews.length-2])} */}\n    //         <Reviews reviews={selectedRestaurant.reviews} />\n    //       </div>\n    //       <AddReview />\n    //     </>\n    //   )}\n    // </div>\n    React.createElement(\"div\", {\n      className: \"md:container mx-auto pt-8 relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(RestaurantDetailHeader, {\n      restaurant_name: selectedRestaurant.restaurant.name,\n      restaurant_picture: selectedRestaurant.restaurant.picture,\n      rating: selectedRestaurant.restaurant.average_rating,\n      review_count: selectedRestaurant.restaurant.count,\n      reviews: selectedRestaurant.reviews,\n      review1: selectedRestaurant.reviews[selectedRestaurant.reviews.length - 1],\n      review2: selectedRestaurant.reviews[selectedRestaurant.reviews.length - 2],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex mt-12 gap-x-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sticky top-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Cart, {\n      cart: cart,\n      setCart: setCart,\n      total: total,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"my-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-2xl font-semibold text-orange-500 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, \"Men\\xFCler\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg-gray-700 h-px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"grid grid-cols-2 grid-flow-row gap-5 mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, selectedRestaurant.products.map((product, index) => {\n      return /*#__PURE__*/React.createElement(ProductCard, {\n        key: product.product_id,\n        cart: cart,\n        setCart: setCart,\n        product: product\n        // key={product.product_id}\n        // name={product.name}\n        // price = {product.price}\n        // explanation = {product.explanation}\n        // picture={product.picture}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      })\n      // <div key={index} className=\"overflow-hidden max-w-lg max-h-52 p-8 sm:flex sm:space-x-6 bg-white rounded-xl transform transition-all hover:-translate-y-2 duration-300 shadow-lg hover:shadow-2xl cursor-pointer relative\">\n      //   <div className=\"flex-shrink-0 w-full mb-6 h-44 sm:h-32 sm:w-32 sm:mb-0\">\n      //     <img src={product.picture} alt=\"\" className=\"object-cover object-center w-full h-full rounded dark:bg-gray-500\" />\n      //   </div>\n      //   <div className=\"flex flex-col space-y-4\">\n      //     <div>\n      //       <h2 className=\"text-xl font-semibold text-orange-500\">{product.name}</h2>\n      //       <span className=\"text-sm dark:text-gray-400\">{product.explanation}</span>\n      //     </div>\n      //     <div className='flex gap-x-1 items-center'>\n      //       <span className=\"text-lg font-semibold\">{product.price} TL</span>\n      //       {/* <span className=\"text-sm line-through dark:text-gray-600\">indrimsiz TL</span> */}\n      //     </div>\n      //     <div className=\"space-y-1 absolute bottom-2 right-4\">\n      //       <button onClick={() => addToCart(product)} className='p-1.5 bg-orange-500 text-white font-medium rounded-md'>Sepete ekle</button>\n      //     </div>\n      //   </div>\n      // </div>\n      ;\n    })))))\n  );\n};\n_s(RestaurantDetailPage, \"OpIAqt+p08DUebvOlyKyEo6FxaE=\", false, function () {\n  return [useParams];\n});\n_c = RestaurantDetailPage;\nexport default RestaurantDetailPage;\nvar _c;\n$RefreshReg$(_c, \"RestaurantDetailPage\");","map":{"version":3,"names":["React","useContext","useEffect","useState","useParams","RestaurantsContext","RestaurantFinder","StarRating","Reviews","AddReview","RestaurantDetailHeader","Cart","ProductCard","Loading","RestaurantDetailPage","id","selectedRestaurant","setSelectedRestaurant","cart","setCart","total","setTotal","console","log","totalPrice","reduce","pre","price","basket","fetchData","response","get","data","err","restaurant","name","picture","average_rating","count","reviews","length","products","map","product","index","product_id"],"sources":["C:/reactGithub/portakal/client/src/pages/RestaurantDetailPage.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\r\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\r\nimport StarRating from \"../components/StarRating\";\r\nimport Reviews from \"../components/Reviews\";\r\nimport AddReview from \"../components/AddReview\";\r\nimport RestaurantDetailHeader from \"../components/RestaurantDetailHeader\";\r\nimport Cart from \"../components/elements/Cart\";\r\nimport ProductCard from \"../components/elements/ProductCard\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nconst RestaurantDetailPage = () => {\r\n\r\n  \r\n\r\n  const { id } = useParams();\r\n  const { selectedRestaurant, setSelectedRestaurant } = useContext(\r\n    RestaurantsContext\r\n  );\r\n\r\n  const [cart,setCart] = useState([]);\r\n  const [total, setTotal] = useState(0)\r\n  // console.log(selectedRestaurant);\r\n\r\n  useEffect(() => {\r\n    console.log(cart)\r\n  },[cart])\r\n  \r\n  useEffect( () => {\r\n    const totalPrice = cart.reduce((pre,cart) => pre +(cart.price*basket.price),0);\r\n    setTotal(totalPrice);\r\n\r\n  },[cart])\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await RestaurantFinder.get(`/${id}`);\r\n        console.log(response.data.data);\r\n\r\n        setSelectedRestaurant(response.data.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n\r\n  if (selectedRestaurant === null) {\r\n    return (\r\n      <Loading />\r\n    )\r\n  }\r\n\r\n  \r\n  // const addToCart = (product) => {\r\n  //   // // alert(product.name)\r\n  //   // let newCart = cart;\r\n  //   // // var addedItem = newCart.find(c => c.product.product_id === product.product_id);\r\n  //   // setCart([...cart,{product:product, quantity: 1}])\r\n  //   // console.log(\"satın al\")\r\n  //   setCart([...cart,product])\r\n  // }\r\n\r\n \r\n  return (\r\n    // <div>\r\n    //   {selectedRestaurant && (\r\n    //     <>\r\n    //       <h1 className=\"text-center display-1\">\r\n    //         {selectedRestaurant.restaurant.name}\r\n    //       </h1>\r\n    //       <div className=\"text-center\">\r\n    //         <StarRating rating={selectedRestaurant.restaurant.average_rating} />\r\n    //         <span className=\"text-warning ml-1\">\r\n    //           {selectedRestaurant.restaurant.count\r\n    //             ? `(${selectedRestaurant.restaurant.count})`\r\n    //             : \"(0)\"}\r\n    //         </span>\r\n    //       </div>\r\n    //       <div className=\"mt-3\">\r\n    //         {/* {console.log(selectedRestaurant.reviews[selectedRestaurant.reviews.length-1, selectedRestaurant.reviews.length-2])} */}\r\n    //         <Reviews reviews={selectedRestaurant.reviews} />\r\n    //       </div>\r\n    //       <AddReview />\r\n    //     </>\r\n    //   )}\r\n    // </div>\r\n\r\n    <div className='md:container mx-auto pt-8 relative'>\r\n      <RestaurantDetailHeader\r\n        restaurant_name={selectedRestaurant.restaurant.name}\r\n        restaurant_picture={selectedRestaurant.restaurant.picture}\r\n        rating={selectedRestaurant.restaurant.average_rating}\r\n        review_count={selectedRestaurant.restaurant.count}\r\n        reviews={selectedRestaurant.reviews}\r\n        review1={selectedRestaurant.reviews[selectedRestaurant.reviews.length - 1]}\r\n        review2={selectedRestaurant.reviews[selectedRestaurant.reviews.length - 2]}\r\n      />\r\n      {/* {console.log(selectedRestaurant.products)} */}\r\n      {/* {console.log(selectedRestaurant.reviews[selectedRestaurant.reviews.length-1])} */}\r\n      <div className='flex mt-12 gap-x-10'>\r\n        <div className='sticky top-0'>\r\n          <Cart cart ={cart} setCart={setCart} total={total} />\r\n        </div>\r\n\r\n        <div>\r\n          <div className='my-5'>\r\n            <h1 className='text-2xl font-semibold text-orange-500 mb-2'>Menüler</h1>\r\n            <div className='bg-gray-700 h-px'></div>\r\n          </div>\r\n          <div className='grid grid-cols-2 grid-flow-row gap-5 mt-5'>\r\n            {selectedRestaurant.products.map((product, index) => {\r\n              return (\r\n                <ProductCard\r\n                  key={product.product_id}\r\n                  cart={cart}\r\n                  setCart={setCart}\r\n                  product={product}\r\n                  // key={product.product_id}\r\n                  // name={product.name}\r\n                  // price = {product.price}\r\n                  // explanation = {product.explanation}\r\n                  // picture={product.picture}\r\n                />\r\n                // <div key={index} className=\"overflow-hidden max-w-lg max-h-52 p-8 sm:flex sm:space-x-6 bg-white rounded-xl transform transition-all hover:-translate-y-2 duration-300 shadow-lg hover:shadow-2xl cursor-pointer relative\">\r\n                //   <div className=\"flex-shrink-0 w-full mb-6 h-44 sm:h-32 sm:w-32 sm:mb-0\">\r\n                //     <img src={product.picture} alt=\"\" className=\"object-cover object-center w-full h-full rounded dark:bg-gray-500\" />\r\n                //   </div>\r\n                //   <div className=\"flex flex-col space-y-4\">\r\n                //     <div>\r\n                //       <h2 className=\"text-xl font-semibold text-orange-500\">{product.name}</h2>\r\n                //       <span className=\"text-sm dark:text-gray-400\">{product.explanation}</span>\r\n                //     </div>\r\n                //     <div className='flex gap-x-1 items-center'>\r\n                //       <span className=\"text-lg font-semibold\">{product.price} TL</span>\r\n                //       {/* <span className=\"text-sm line-through dark:text-gray-600\">indrimsiz TL</span> */}\r\n                //     </div>\r\n                //     <div className=\"space-y-1 absolute bottom-2 right-4\">\r\n                //       <button onClick={() => addToCart(product)} className='p-1.5 bg-orange-500 text-white font-medium rounded-md'>Sepete ekle</button>\r\n                //     </div>\r\n                //   </div>\r\n                // </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        {/* <div >\r\n          <div className='my-5'>\r\n            <h1 className='text-2xl font-semibold text-orange-500 mb-2'>Tavuk Dürümler</h1>\r\n            <div className='bg-gray-700 h-px'></div>\r\n          </div>\r\n          <div className='grid grid-cols-2 grid-flow-row gap-5 mt-5'>\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n          </div>\r\n\r\n          <div className='my-5'>\r\n            <h1 className='text-2xl font-semibold text-orange-500 mb-2'>Pizzalar</h1>\r\n            <div className='bg-gray-700 h-px'></div>\r\n          </div>\r\n\r\n          <div className='grid grid-cols-2 grid-flow-row gap-5'>\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n            <ProductCard />\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default RestaurantDetailPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,kBAAkB,QAAQ,+BAA+B;AAClE,OAAOC,gBAAgB,MAAM,0BAA0B;AACvD,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,sBAAsB,MAAM,sCAAsC;AACzE,OAAOC,IAAI,MAAM,6BAA6B;AAC9C,OAAOC,WAAW,MAAM,oCAAoC;AAC5D,OAAOC,OAAO,MAAM,uBAAuB;AAE3C,MAAMC,oBAAoB,GAAG,MAAM;EAAA;EAIjC,MAAM;IAAEC;EAAG,CAAC,GAAGX,SAAS,EAAE;EAC1B,MAAM;IAAEY,kBAAkB;IAAEC;EAAsB,CAAC,GAAGhB,UAAU,CAC9DI,kBAAkB,CACnB;EAED,MAAM,CAACa,IAAI,EAACC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACnC,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC;EACrC;;EAEAD,SAAS,CAAC,MAAM;IACdoB,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;EACnB,CAAC,EAAC,CAACA,IAAI,CAAC,CAAC;EAEThB,SAAS,CAAE,MAAM;IACf,MAAMsB,UAAU,GAAGN,IAAI,CAACO,MAAM,CAAC,CAACC,GAAG,EAACR,IAAI,KAAKQ,GAAG,GAAGR,IAAI,CAACS,KAAK,GAACC,MAAM,CAACD,KAAM,EAAC,CAAC,CAAC;IAC9EN,QAAQ,CAACG,UAAU,CAAC;EAEtB,CAAC,EAAC,CAACN,IAAI,CAAC,CAAC;EAGThB,SAAS,CAAC,MAAM;IACd,MAAM2B,SAAS,GAAG,YAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMxB,gBAAgB,CAACyB,GAAG,CAAE,IAAGhB,EAAG,EAAC,CAAC;QACrDO,OAAO,CAACC,GAAG,CAACO,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC;QAE/Bf,qBAAqB,CAACa,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC;MAC3C,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZX,OAAO,CAACC,GAAG,CAACU,GAAG,CAAC;MAClB;IACF,CAAC;IAEDJ,SAAS,EAAE;EACb,CAAC,EAAE,EAAE,CAAC;EAGN,IAAIb,kBAAkB,KAAK,IAAI,EAAE;IAC/B,oBACE,oBAAC,OAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG;EAEf;;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAGA;IAAA;IACE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;MAAK,SAAS,EAAC,oCAAoC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACjD,oBAAC,sBAAsB;MACrB,eAAe,EAAEA,kBAAkB,CAACkB,UAAU,CAACC,IAAK;MACpD,kBAAkB,EAAEnB,kBAAkB,CAACkB,UAAU,CAACE,OAAQ;MAC1D,MAAM,EAAEpB,kBAAkB,CAACkB,UAAU,CAACG,cAAe;MACrD,YAAY,EAAErB,kBAAkB,CAACkB,UAAU,CAACI,KAAM;MAClD,OAAO,EAAEtB,kBAAkB,CAACuB,OAAQ;MACpC,OAAO,EAAEvB,kBAAkB,CAACuB,OAAO,CAACvB,kBAAkB,CAACuB,OAAO,CAACC,MAAM,GAAG,CAAC,CAAE;MAC3E,OAAO,EAAExB,kBAAkB,CAACuB,OAAO,CAACvB,kBAAkB,CAACuB,OAAO,CAACC,MAAM,GAAG,CAAC,CAAE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAC3E,eAGF;MAAK,SAAS,EAAC,qBAAqB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAClC;MAAK,SAAS,EAAC,cAAc;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAC3B,oBAAC,IAAI;MAAC,IAAI,EAAGtB,IAAK;MAAC,OAAO,EAAEC,OAAQ;MAAC,KAAK,EAAEC,KAAM;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG,CACjD,eAEN;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE;MAAK,SAAS,EAAC,MAAM;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACnB;MAAI,SAAS,EAAC,6CAA6C;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBAAa,eACxE;MAAK,SAAS,EAAC,kBAAkB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAO,CACpC,eACN;MAAK,SAAS,EAAC,2CAA2C;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GACvDJ,kBAAkB,CAACyB,QAAQ,CAACC,GAAG,CAAC,CAACC,OAAO,EAAEC,KAAK,KAAK;MACnD,oBACE,oBAAC,WAAW;QACV,GAAG,EAAED,OAAO,CAACE,UAAW;QACxB,IAAI,EAAE3B,IAAK;QACX,OAAO,EAAEC,OAAQ;QACjB,OAAO,EAAEwB;QACT;QACA;QACA;QACA;QACA;QAAA;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA;MAEF;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAAA;IAEJ,CAAC,CAAC,CACE,CACF,CAmCF;EACF;AAGV,CAAC;AAAC,GAjLI7B,oBAAoB;EAAA,QAITV,SAAS;AAAA;AAAA,KAJpBU,oBAAoB;AAmL1B,eAAeA,oBAAoB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}