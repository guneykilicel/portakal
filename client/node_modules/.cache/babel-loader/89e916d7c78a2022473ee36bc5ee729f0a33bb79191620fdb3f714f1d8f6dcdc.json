{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactGithub\\\\portakal\\\\client\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport AddRestaurant from \"../components/AddRestaurant\";\nimport Header from \"../components/Header\";\nimport RestaurantList from \"../components/RestaurantList\";\nconst Dashboard = _ref => {\n  _s();\n  let {\n    setAuth\n  } = _ref;\n  const [name, setName] = useState(\"\");\n  async function getName() {\n    try {\n      const response = await fetch(\"http://localhost:5000/dashboard\", {\n        method: \"GET\",\n        headers: {\n          token: localStorage.token\n        }\n      });\n      const parseRes = await response.json();\n\n      // verileri buradan topluyoruz\n      setName(parseRes.user_name);\n    } catch (err) {\n      console.error(err.message);\n    }\n  }\n  const logout = e => {\n    e.preventDefault();\n    localStorage.removeItem(\"token\");\n    setAuth(false);\n    toast.success(\"Logged out successfully!\");\n  };\n  useEffect(() => {\n    getName();\n  });\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"Dashboard - \", name)), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: e => logout(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, \"Logout\"), /*#__PURE__*/React.createElement(Header, {\n    name: name,\n    logout: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(RestaurantList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }));\n};\n_s(Dashboard, \"yFX/thdr3dMdWKRwvTuphhEy2lc=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","Fragment","useEffect","useState","toast","AddRestaurant","Header","RestaurantList","Dashboard","setAuth","name","setName","getName","response","fetch","method","headers","token","localStorage","parseRes","json","user_name","err","console","error","message","logout","e","preventDefault","removeItem","success"],"sources":["C:/reactGithub/portakal/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport AddRestaurant from \"../components/AddRestaurant\";\nimport Header from \"../components/Header\";\nimport RestaurantList from \"../components/RestaurantList\";\n\nconst Dashboard = ({ setAuth }) => {\n\n  const [name, setName] = useState(\"\")\n\n  async function getName() {\n    try {\n      const response = await fetch(\"http://localhost:5000/dashboard\", {\n        method: \"GET\",\n        headers: { token: localStorage.token }\n      })\n\n      const parseRes = await response.json();\n\n      // verileri buradan topluyoruz\n      setName(parseRes.user_name);\n\n    } catch (err) {\n      console.error(err.message)\n    }\n  }\n\n  const logout = (e) => {\n    e.preventDefault()\n    localStorage.removeItem(\"token\")\n    setAuth(false);\n    toast.success(\"Logged out successfully!\")\n  }\n\n  useEffect(() => {\n    getName();\n  })\n  return (\n    <Fragment>\n      <div className=\"container\">\n        <h1>Dashboard - {name}</h1>\n      </div>\n      <button className=\"btn btn-primary\" onClick={e => logout(e)}>Logout</button>\n      <Header name={name} logout={logout} />\n      <RestaurantList />\n    </Fragment>\n  )\n}\n\nexport default Dashboard;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC5D,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,aAAa,MAAM,6BAA6B;AACvD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,cAAc,MAAM,8BAA8B;AAEzD,MAAMC,SAAS,GAAG,QAAiB;EAAA;EAAA,IAAhB;IAAEC;EAAQ,CAAC;EAE5B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAEpC,eAAeS,OAAO,GAAG;IACvB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAE;QAC9DC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UAAEC,KAAK,EAAEC,YAAY,CAACD;QAAM;MACvC,CAAC,CAAC;MAEF,MAAME,QAAQ,GAAG,MAAMN,QAAQ,CAACO,IAAI,EAAE;;MAEtC;MACAT,OAAO,CAACQ,QAAQ,CAACE,SAAS,CAAC;IAE7B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACG,OAAO,CAAC;IAC5B;EACF;EAEA,MAAMC,MAAM,GAAIC,CAAC,IAAK;IACpBA,CAAC,CAACC,cAAc,EAAE;IAClBV,YAAY,CAACW,UAAU,CAAC,OAAO,CAAC;IAChCpB,OAAO,CAAC,KAAK,CAAC;IACdL,KAAK,CAAC0B,OAAO,CAAC,0BAA0B,CAAC;EAC3C,CAAC;EAED5B,SAAS,CAAC,MAAM;IACdU,OAAO,EAAE;EACX,CAAC,CAAC;EACF,oBACE,oBAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACP;IAAK,SAAS,EAAC,WAAW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACxB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,mBAAiBF,IAAI,CAAM,CACvB,eACN;IAAQ,SAAS,EAAC,iBAAiB;IAAC,OAAO,EAAEiB,CAAC,IAAID,MAAM,CAACC,CAAC,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YAAgB,eAC5E,oBAAC,MAAM;IAAC,IAAI,EAAEjB,IAAK;IAAC,MAAM,EAAEgB,MAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACtC,oBAAC,cAAc;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACT;AAEf,CAAC;AAAA,GAzCKlB,SAAS;AAAA,KAATA,SAAS;AA2Cf,eAAeA,SAAS;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}