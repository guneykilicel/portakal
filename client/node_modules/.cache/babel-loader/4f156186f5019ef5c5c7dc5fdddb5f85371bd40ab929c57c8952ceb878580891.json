{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactGithub\\\\portakal\\\\client\\\\src\\\\context\\\\UserContext.js\",\n  _s = $RefreshSig$();\nimport React, { useState, createContext, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nexport const UserContext = /*#__PURE__*/createContext();\nexport const UserContextProvider = props => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const setAuth = boolean => {\n    setIsAuthenticated(boolean);\n  };\n  async function isAuth() {\n    try {\n      const response = await fetch(\"http://localhost:5000/auth/is-verify\", {\n        method: \"GET\",\n        headers: {\n          token: localStorage.token\n        }\n      });\n      const parseRes = await response.json();\n      parseRes === true ? setIsAuthenticated(true) : setIsAuthenticated(false);\n    } catch (err) {\n      console.error(err.message);\n    }\n  }\n  useEffect(() => {\n    isAuth();\n  });\n  const logout = e => {\n    e.preventDefault();\n    localStorage.removeItem(\"token\");\n    setAuth(false);\n    toast.success(\"Logged out successfully!\");\n  };\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      user,\n      setUser,\n      logout,\n      isAuthenticated,\n      setIsAuthenticated,\n      setAuth\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n_s(UserContextProvider, \"Uq7KcTiOseX3k63CKoUNgtSkdNA=\");\n_c = UserContextProvider;\nvar _c;\n$RefreshReg$(_c, \"UserContextProvider\");","map":{"version":3,"names":["React","useState","createContext","useEffect","toast","UserContext","UserContextProvider","props","user","setUser","isAuthenticated","setIsAuthenticated","setAuth","boolean","isAuth","response","fetch","method","headers","token","localStorage","parseRes","json","err","console","error","message","logout","e","preventDefault","removeItem","success","children"],"sources":["C:/reactGithub/portakal/client/src/context/UserContext.js"],"sourcesContent":["import React, { useState, createContext, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const UserContext = createContext();\r\n\r\nexport const UserContextProvider = (props) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  const setAuth = (boolean) => {\r\n    setIsAuthenticated(boolean);\r\n  }\r\n\r\n  async function isAuth() {\r\n    try {\r\n\r\n      const response = await fetch(\"http://localhost:5000/auth/is-verify\", {\r\n        method: \"GET\",\r\n        headers: { token: localStorage.token }\r\n      })\r\n\r\n      const parseRes = await response.json();\r\n\r\n      parseRes === true ? setIsAuthenticated(true) : setIsAuthenticated(false)\r\n\r\n    } catch (err) {\r\n      console.error(err.message)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    isAuth()\r\n  })\r\n\r\n  const logout = (e) => {\r\n    e.preventDefault()\r\n    localStorage.removeItem(\"token\")\r\n    setAuth(false);\r\n    toast.success(\"Logged out successfully!\")\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        user,\r\n        setUser,\r\n        logout,\r\n        isAuthenticated,\r\n        setIsAuthenticated,\r\n        setAuth\r\n      }}\r\n    >\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  );\r\n};"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,aAAa,EAAEC,SAAS,QAAQ,OAAO;AACjE,SAASC,KAAK,QAAQ,gBAAgB;AAEtC,OAAO,MAAMC,WAAW,gBAAGH,aAAa,EAAE;AAE1C,OAAO,MAAMI,mBAAmB,GAAIC,KAAK,IAAK;EAAA;EAC5C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAEtC,MAAM,CAACS,eAAe,EAAEC,kBAAkB,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAE7D,MAAMW,OAAO,GAAIC,OAAO,IAAK;IAC3BF,kBAAkB,CAACE,OAAO,CAAC;EAC7B,CAAC;EAED,eAAeC,MAAM,GAAG;IACtB,IAAI;MAEF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,sCAAsC,EAAE;QACnEC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UAAEC,KAAK,EAAEC,YAAY,CAACD;QAAM;MACvC,CAAC,CAAC;MAEF,MAAME,QAAQ,GAAG,MAAMN,QAAQ,CAACO,IAAI,EAAE;MAEtCD,QAAQ,KAAK,IAAI,GAAGV,kBAAkB,CAAC,IAAI,CAAC,GAAGA,kBAAkB,CAAC,KAAK,CAAC;IAE1E,CAAC,CAAC,OAAOY,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACG,OAAO,CAAC;IAC5B;EACF;EAEAvB,SAAS,CAAC,MAAM;IACdW,MAAM,EAAE;EACV,CAAC,CAAC;EAEF,MAAMa,MAAM,GAAIC,CAAC,IAAK;IACpBA,CAAC,CAACC,cAAc,EAAE;IAClBT,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC;IAChClB,OAAO,CAAC,KAAK,CAAC;IACdR,KAAK,CAAC2B,OAAO,CAAC,0BAA0B,CAAC;EAC3C,CAAC;EAED,oBACE,oBAAC,WAAW,CAAC,QAAQ;IACnB,KAAK,EAAE;MACLvB,IAAI;MACJC,OAAO;MACPkB,MAAM;MACNjB,eAAe;MACfC,kBAAkB;MAClBC;IACF,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEDL,KAAK,CAACyB,QAAQ,CACM;AAE3B,CAAC;AAAC,GAnDW1B,mBAAmB;AAAA,KAAnBA,mBAAmB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}