{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactGithub\\\\portakal\\\\client\\\\src\\\\pages\\\\RestaurantDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\nimport StarRating from \"../components/StarRating\";\nimport Reviews from \"../components/Reviews\";\nimport AddReview from \"../components/AddReview\";\nconst RestaurantDetailPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    selectedRestaurant,\n    setSelectedRestaurant\n  } = useContext(RestaurantsContext);\n\n  // console.log(selectedRestaurant);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await RestaurantFinder.get(`/${id}`);\n        // console.log(response);\n\n        setSelectedRestaurant(response.data.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, selectedRestaurant && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center display-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }, selectedRestaurant.restaurant.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(StarRating, {\n    rating: selectedRestaurant.restaurant.average_rating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-warning ml-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, selectedRestaurant.restaurant.count ? `(${selectedRestaurant.restaurant.count})` : \"(0)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, console.log(selectedRestaurant.reviews[(selectedRestaurant.reviews.length - 1, selectedRestaurant.reviews.length - 2)]), /*#__PURE__*/React.createElement(Reviews, {\n    reviews: selectedRestaurant.reviews,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(AddReview, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  })));\n};\n_s(RestaurantDetailPage, \"XAhBpOxrzvSZe/g5c+lbQuywoO8=\", false, function () {\n  return [useParams];\n});\n_c = RestaurantDetailPage;\nexport default RestaurantDetailPage;\nvar _c;\n$RefreshReg$(_c, \"RestaurantDetailPage\");","map":{"version":3,"names":["React","useContext","useEffect","useParams","RestaurantsContext","RestaurantFinder","StarRating","Reviews","AddReview","RestaurantDetailPage","id","selectedRestaurant","setSelectedRestaurant","fetchData","response","get","data","err","console","log","restaurant","name","average_rating","count","reviews","length"],"sources":["C:/reactGithub/portakal/client/src/pages/RestaurantDetailPage.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\r\nimport RestaurantFinder from \"../apis/RestaurantFinder\";\r\nimport StarRating from \"../components/StarRating\";\r\nimport Reviews from \"../components/Reviews\";\r\nimport AddReview from \"../components/AddReview\";\r\n\r\nconst RestaurantDetailPage = () => {\r\n  const { id } = useParams();\r\n  const { selectedRestaurant, setSelectedRestaurant } = useContext(\r\n    RestaurantsContext\r\n  );\r\n\r\n  // console.log(selectedRestaurant);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await RestaurantFinder.get(`/${id}`);\r\n        // console.log(response);\r\n\r\n        setSelectedRestaurant(response.data.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {selectedRestaurant && (\r\n        <>\r\n          <h1 className=\"text-center display-1\">\r\n            {selectedRestaurant.restaurant.name}\r\n          </h1>\r\n          <div className=\"text-center\">\r\n            <StarRating rating={selectedRestaurant.restaurant.average_rating} />\r\n            <span className=\"text-warning ml-1\">\r\n              {selectedRestaurant.restaurant.count\r\n                ? `(${selectedRestaurant.restaurant.count})`\r\n                : \"(0)\"}\r\n            </span>\r\n          </div>\r\n          <div className=\"mt-3\">\r\n            {console.log(selectedRestaurant.reviews[selectedRestaurant.reviews.length-1, selectedRestaurant.reviews.length-2])}\r\n            <Reviews reviews={selectedRestaurant.reviews} />\r\n          </div>\r\n          <AddReview />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RestaurantDetailPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACpD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,kBAAkB,QAAQ,+BAA+B;AAClE,OAAOC,gBAAgB,MAAM,0BAA0B;AACvD,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,OAAOC,SAAS,MAAM,yBAAyB;AAE/C,MAAMC,oBAAoB,GAAG,MAAM;EAAA;EACjC,MAAM;IAAEC;EAAG,CAAC,GAAGP,SAAS,EAAE;EAC1B,MAAM;IAAEQ,kBAAkB;IAAEC;EAAsB,CAAC,GAAGX,UAAU,CAC9DG,kBAAkB,CACnB;;EAED;;EAEAF,SAAS,CAAC,MAAM;IACd,MAAMW,SAAS,GAAG,YAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMT,gBAAgB,CAACU,GAAG,CAAE,IAAGL,EAAG,EAAC,CAAC;QACrD;;QAEAE,qBAAqB,CAACE,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC;MAC3C,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;IACF,CAAC;IAEDJ,SAAS,EAAE;EACb,CAAC,EAAE,EAAE,CAAC;EACN,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACGF,kBAAkB,iBACjB,uDACE;IAAI,SAAS,EAAC,uBAAuB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAClCA,kBAAkB,CAACS,UAAU,CAACC,IAAI,CAChC,eACL;IAAK,SAAS,EAAC,aAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC1B,oBAAC,UAAU;IAAC,MAAM,EAAEV,kBAAkB,CAACS,UAAU,CAACE,cAAe;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACpE;IAAM,SAAS,EAAC,mBAAmB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAChCX,kBAAkB,CAACS,UAAU,CAACG,KAAK,GAC/B,IAAGZ,kBAAkB,CAACS,UAAU,CAACG,KAAM,GAAE,GAC1C,KAAK,CACJ,CACH,eACN;IAAK,SAAS,EAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAClBL,OAAO,CAACC,GAAG,CAACR,kBAAkB,CAACa,OAAO,EAACb,kBAAkB,CAACa,OAAO,CAACC,MAAM,GAAC,CAAC,EAAEd,kBAAkB,CAACa,OAAO,CAACC,MAAM,GAAC,CAAC,EAAC,CAAC,eAClH,oBAAC,OAAO;IAAC,OAAO,EAAEd,kBAAkB,CAACa,OAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAC5C,eACN,oBAAC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CAEhB,CACG;AAEV,CAAC;AAAC,GA9CIf,oBAAoB;EAAA,QACTN,SAAS;AAAA;AAAA,KADpBM,oBAAoB;AAgD1B,eAAeA,oBAAoB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}