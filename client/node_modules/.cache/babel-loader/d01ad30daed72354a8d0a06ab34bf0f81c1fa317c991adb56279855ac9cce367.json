{"ast":null,"code":"var _jsxFileName = \"C:\\\\reactGithub\\\\portakal\\\\client\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport AddRestaurant from \"../components/AddRestaurant\";\nimport Header from \"../components/Header\";\nimport OrderConfirmOrCancelModal from \"../components/OrderConfirmOrCancelModal\";\nimport RestaurantList from \"../components/RestaurantList\";\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\nimport { UserContext } from \"../context/UserContext\";\nconst Dashboard = _ref => {\n  _s();\n  let {\n    setAuth\n  } = _ref;\n  const {\n    userName,\n    setUserName\n  } = useContext(RestaurantsContext);\n  const [state, setState] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [surname, setSurname] = useState(\"\");\n  const [il_id, set_il_id] = useState(0);\n  const [ilce_id, set_ilce_id] = useState(0);\n  const [semt_id, set_semt_id] = useState(\"\");\n  const [order_state, set_order_state] = useState(\"\");\n  const [past_order_id, set_past_order_id] = useState(0);\n  async function getName() {\n    try {\n      const response = await fetch(\"http://localhost:5000/dashboard\", {\n        method: \"GET\",\n        headers: {\n          token: localStorage.token\n        }\n      });\n      const parseRes = await response.json();\n\n      // verileri buradan topluyoruz\n      console.log(parseRes);\n      setName(parseRes.user_name);\n      setSurname(parseRes.user_surname);\n      setUserName(parseRes.user_id);\n      set_il_id(parseRes.il_id);\n      set_ilce_id(parseRes.ilce_id);\n      set_semt_id(parseRes.semt_id);\n      set_order_state(parseRes.order_state);\n      set_past_order_id(parseRes.past_order_id);\n    } catch (err) {\n      console.error(err.message);\n    }\n  }\n  const logout = e => {\n    e.preventDefault();\n    localStorage.removeItem(\"token\");\n    setAuth(false);\n    toast.success(\"Logged out successfully!\");\n  };\n  useEffect(() => {\n    getName();\n  });\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    past_order_id: past_order_id,\n    order_state: order_state,\n    set_order_state: set_order_state,\n    name: name,\n    surname: surname,\n    logout: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(RestaurantList, {\n    il_id: il_id,\n    ilce_id: ilce_id,\n    semt_id: semt_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(OrderConfirmOrCancelModal, {\n    state: state,\n    setState: setState,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }));\n};\n_s(Dashboard, \"xbURjWZDINjtafGrWTS1+fV7Zds=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","Fragment","useContext","useEffect","useState","toast","AddRestaurant","Header","OrderConfirmOrCancelModal","RestaurantList","RestaurantsContext","UserContext","Dashboard","setAuth","userName","setUserName","state","setState","name","setName","surname","setSurname","il_id","set_il_id","ilce_id","set_ilce_id","semt_id","set_semt_id","order_state","set_order_state","past_order_id","set_past_order_id","getName","response","fetch","method","headers","token","localStorage","parseRes","json","console","log","user_name","user_surname","user_id","err","error","message","logout","e","preventDefault","removeItem","success"],"sources":["C:/reactGithub/portakal/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport AddRestaurant from \"../components/AddRestaurant\";\nimport Header from \"../components/Header\";\nimport OrderConfirmOrCancelModal from \"../components/OrderConfirmOrCancelModal\";\nimport RestaurantList from \"../components/RestaurantList\";\nimport { RestaurantsContext } from \"../context/RestaurantsContext\";\nimport { UserContext } from \"../context/UserContext\";\n\nconst Dashboard = ({ setAuth }) => {\n\n  const {userName, setUserName} = useContext(RestaurantsContext);\n\n  const [state, setState] = useState(false);\n\n  const [name, setName] = useState(\"\");\n  const [surname, setSurname] = useState(\"\");\n  const [il_id, set_il_id] = useState(0);\n  const [ilce_id, set_ilce_id] = useState(0);\n  const [semt_id, set_semt_id] = useState(\"\");\n  const [order_state, set_order_state] = useState(\"\");\n  const [past_order_id, set_past_order_id] = useState(0);\n\n  async function getName() {\n    try {\n      const response = await fetch(\"http://localhost:5000/dashboard\", {\n        method: \"GET\",\n        headers: { token: localStorage.token }\n      })\n\n      const parseRes = await response.json();\n\n      // verileri buradan topluyoruz\n      console.log(parseRes)\n      setName(parseRes.user_name);\n      setSurname(parseRes.user_surname);\n      setUserName(parseRes.user_id);\n      set_il_id(parseRes.il_id);\n      set_ilce_id(parseRes.ilce_id);\n      set_semt_id(parseRes.semt_id);\n      set_order_state(parseRes.order_state);\n      set_past_order_id(parseRes.past_order_id);\n      \n    } catch (err) {\n      console.error(err.message)\n    }\n  }\n\n  const logout = (e) => {\n    e.preventDefault()\n    localStorage.removeItem(\"token\")\n    setAuth(false);\n    toast.success(\"Logged out successfully!\")\n  }\n\n  useEffect(() => {\n    getName();\n  })\n  return (\n    <Fragment>\n      {/* <div className=\"container\">\n        <h1>Dashboard - {name}</h1>\n      </div>\n      <button className=\"btn btn-primary\" onClick={e => logout(e)}>Logout</button> */}\n      <Header past_order_id={past_order_id} order_state={order_state} set_order_state={set_order_state} name={name} surname={surname} logout={logout} />\n      <RestaurantList il_id={il_id} ilce_id={ilce_id} semt_id={semt_id} />\n      <OrderConfirmOrCancelModal state={state} setState={setState} />\n    </Fragment>\n  )\n}\n\nexport default Dashboard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}